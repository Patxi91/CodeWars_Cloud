import math

def check_digits(num, b):
    # Check if all digits are 1s in base b
    while num:
        if num % b != 1:
            return False
        num //= b
    return True

def get_min_base(num):
    #return num-1
    global sol

    if num in sol:
        return num-sol[num]
    if num in tricky:
        return tricky[num]
    if num == 1:
        return 2
    for b in range(int(num ** 0.5) + 1, 1, -1):
        # Check if all digits are 1s in base b
        if check_digits(num, b):
            return b
    # If no base is found, return num - 1
    return num - 1

sol = {17126426820319058418: 137, 15705261201683973613: 83, 17393337673075145131: 254, 18412318490320479416: 565, 17948489581465697281: 255, 18283961446061854279: 138, 1000000002: 1, 189624334: 1, 156937348: 1, 105714259: 1, 104745503: 1, 97440122: 1, 145203976: 1, 98404237: 1, 139856734: 1, 95437870: 1, 136101953: 1, 109415332: 1, 130369821: 1, 130080992: 1, 127021848: 1, 99317169: 1, 101933954: 1, 103750790: 1, 128346423: 1, 159811511: 1, 166184913: 1, 113365985: 1, 113522008: 1, 124210717: 1, 135314121: 1, 166662659: 1, 145973727: 1, 98595082: 1, 181950068: 1, 136774829: 1, 183196196: 1, 178990422: 1, 111026621: 1, 109921984: 1, 179459709: 1, 153138096: 1, 186778053: 1, 96834837: 1, 179082868: 1, 100446140: 1, 111441011: 1, 102139481: 1, 162223803: 1, 142635756: 1, 95750822: 1, 176465240: 1, 187087042: 1, 178577204: 1, 143955725: 1, 166437245: 1, 177070662: 1, 112679678: 1, 137025032: 1, 133923594: 1, 175588136: 1, 178976360: 1, 169235013: 1, 166941860: 1, 174755581: 1, 123319245: 1, 99747017: 1, 163391101: 1, 154726195: 1, 135532768: 1, 149655923: 1, 119785740: 1, 149308762: 1, 167851036: 1, 101120640: 1, 178597112: 1, 167241542: 1, 141083172: 1, 124223313: 1, 114022784: 1, 162338280: 1, 179098655: 1, 120870722: 1, 157721650: 1, 178134554: 1, 97074002: 1, 132555849: 1, 177463319: 1, 143219876: 1, 180185413: 1, 188568343: 1, 142884243: 1, 147732586: 1, 124987120: 1, 120441746: 1, 140498237: 1, 168650643: 1, 119838028: 1, 96042975: 1, 169870064: 1, 171131957: 1, 108978174: 1, 126292755: 1, 148593793: 1, 160210211: 1, 151469097: 1, 147386056: 1, 137327551: 1, 95815264: 1, 107683704: 1, 118857666: 1, 115085374: 1, 187832447: 1, 101201677: 1, 154685941: 1, 141667561: 1, 182802744: 1, 138715079: 1, 146324961: 1, 104302244: 1, 160741454: 1, 150169579: 1, 186211754: 1, 133637244: 1, 145546900: 1, 144393730: 1, 157344919: 1, 157456493: 1, 111389694: 1, 168636870: 1, 107137894: 1, 163740474: 1, 112377915: 1, 139275300: 1, 174866949: 1, 184731059: 1, 48968: 1, 232559: 1, 457107: 1, 453490: 1, 320410: 1, 376229: 1, 79761: 1, 566638: 1, 166239: 1, 705820: 1, 948949: 1, 312589: 1, 928432: 1, 872077: 1, 278429: 1, 618163: 1, 905468: 1, 242586: 1, 747456: 1, 700177: 1, 336743: 1, 344681: 1, 182749: 1, 293058: 1, 789768: 1, 844486: 1, 409760: 1, 315864: 1, 118731: 1, 360920: 1, 102504: 1, 538027: 1, 839867: 1, 944898: 1, 393302: 1, 439840: 1, 321726: 1, 47015: 1, 672930: 1, 530564: 1, 299627: 1, 448592: 1, 800016: 1, 475007: 1, 493672: 1, 336373: 1, 904626: 1, 676753: 1, 153173: 1, 882383: 1, 558593: 1, 867902: 1, 928807: 1, 983921: 1, 493552: 1, 751337: 1, 468597: 1, 36319: 1, 953656: 1, 332496: 1, 443126: 1, 633339: 1, 561128: 1, 817757: 1, 211731: 1, 9654: 1, 922738: 1, 691995: 1, 462800: 1, 724949: 1, 961156: 1, 692548: 1, 11906: 1, 617579: 1, 715591: 1, 796174: 1, 190105: 1, 178860: 1, 293952: 1, 263951: 1, 729318: 1, 6008: 1, 36861: 1, 500423: 1, 496665: 1, 62785: 1, 199008: 1, 94259: 1, 688053: 1, 365071: 1, 362144: 1, 193122: 1, 222667: 1, 765494: 1, 455767: 1, 891277: 1, 946719: 1, 848205: 1, 307109: 1, 437467: 1, 406706: 1, 265977: 1, 551981: 1, 220240: 1, 547535: 1, 685263: 1, 563739: 1, 412475: 1, 732808: 1, 212186: 1, 884560: 1, 451797: 1, 221423: 1, 965332: 1, 31891: 1, 731806: 1, 725384: 1, 342752: 1, 206730: 1, 270518: 1, 403555: 1, 891073: 1, 172252: 1, 752828: 1, 442253: 1, 362224: 1, 806855: 1, 765628: 1, 242993: 1, 447866: 1, 369561: 1, 2291: 1, 416348: 1, 576966: 1, 182959: 1, 254550: 1, 79755: 1, 292797: 1, 630623: 1, 253882: 1, 723871: 1, 463624: 1, 779487: 1, 381514: 1, 894003: 1}
tricky = {721665730529210655458761: 89697160, 33900891697186087037967091: 17990, 443977340866455742363452667: 462, 121797582131877217947399481: 22264, 724283840679460894111000: 89805499, 69442030092036028963117: 6411, 1433315781636850748378538343: 33578, 206904791887824110663199: 59145746, 8911122619084922709682111276: 1275, 2767024382213543024259523: 278, 9627345509711400632089334835: 1286, 2358970812900914799851374111: 546, 3939448874190487049585953: 288, 15200950973320689607129281: 108736, 254608032663150336456: 12055, 1355458362298203242079001: 1079000, 240079326249223335928285: 396, 61807954167088175507962621: 19884, 85629468777224213901084136507: 782, 539893432811807061211624: 81427171, 293879212249016881985806: 405, 467448839373416964388771: 77608870, 84713845419422856169523298: 153317, 202065921413097193001239201: 24224, 3548586499430051547242501760: 1151, 11053588034410041841: 240, 1692659236988535221313853: 492, 467951129940883366293517: 8811, 338039328952112690701800: 69660899, 681081615298272845393641: 953, 2491331611406048046524274: 75733, 321050179437732910490050: 409, 1144945302862046958007: 33837040397, 8955094781108606439477355: 1729886, 3971605828924888088498313485: 8764, 684008319164504132988463093: 29683, 4191133033838630182721778372: 108024, 559069440857456905226967481: 2205, 824245676203656350115760: 93760279, 194803562766952097250124: 57969421, 170029820367817587743260087: 23537, 832923773978133231460: 211, 1408245920778749423496637: 10587, 605300277535878637803069: 57068, 81096688444718718465760: 351, 4139037601349918758308445201: 2832, 304247548628067848879335: 67257754, 17854447292665842692008561: 335, 16816998477568565880146863: 333, 2482330482751851766939717: 11636, 68726504951370033857349: 40961396, 3262584352541557609750935301: 564, 16034017145559317290764093210: 1361, 37088779635696610207: 1826, 107006108231530159486521181: 780, 949981911874928644: 983041, 133023217446110258961961: 777, 614442474738844960919429160: 6713, 11256180934732014728785728: 3791, 930283428589675148573056: 2655, 256907636216792469386815: 63570994, 47369510655846227103: 6882551173, 944342163818052378921438: 62377, 24157254865568671529845205: 4228, 36995948907184853457015: 33321002, 1787825141955031649342896: 495, 23691010762844705782321: 5359, 4022592381365364468358555: 1416206, 365194080258502331675346475: 894, 20714562014226980995545997: 16572, 13361307647767288777323736: 3885, 906277874365396779370300: 459, 162229242439344934053433051: 5550, 452747387539780693771929: 53848, 32630175203754061015971491: 75586880}